var a=Object.defineProperty,s=Object.defineProperties,t=Object.getOwnPropertyDescriptors,e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,l=(s,t,e)=>t in s?a(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,o=(a,s)=>{for(var t in s||(s={}))n.call(s,t)&&l(a,t,s[t]);if(e)for(var t of e(s))r.call(s,t)&&l(a,t,s[t]);return a};import{S as i,i as c,s as f,e as u,a as d,t as h,c as p,b as v,d as m,f as g,g as $,h as b,j as E,k as y,l as I,n as w,r as S,m as D,o as N,p as A,u as O,q as V,v as k,w as P,x as L,y as x,z as T,A as C,B as J,C as B,D as j,E as G,F as U,G as _,H as q}from"./vendor.0ec67cc9.js";import{Octokit as z}from"https://cdn.skypack.dev/@octokit/core@3.4.0";import{restEndpointMethods as M}from"https://cdn.skypack.dev/@octokit/plugin-rest-endpoint-methods@5.3.1";import{paginateRest as R}from"https://cdn.skypack.dev/@octokit/plugin-paginate-rest@2.13.3";function H(a){let s,t,e,n,r,l,o,i,c,f,D,N,A,O,V,k,P,L;return{c(){s=u("div"),t=u("nav"),e=u("div"),n=u("a"),r=u("img"),o=d(),i=u("h1"),c=u("strong"),f=h("Migration"),D=d(),N=u("a"),A=h("Lite"),O=d(),V=u("a"),k=h("Classic"),this.h()},l(a){s=p(a,"DIV",{class:!0});var l=v(s);t=p(l,"NAV",{class:!0,role:!0,"aria-label":!0});var u=v(t);e=p(u,"DIV",{class:!0});var d=v(e);n=p(d,"A",{class:!0,href:!0});var h=v(n);r=p(h,"IMG",{src:!0,width:!0,alt:!0}),h.forEach(m),o=g(d),i=p(d,"H1",{class:!0});var b=v(i);c=p(b,"STRONG",{});var E=v(c);f=$(E,"Migration"),E.forEach(m),b.forEach(m),D=g(d),N=p(d,"A",{class:!0,href:!0});var y=v(N);A=$(y,"Lite"),y.forEach(m),O=g(d),V=p(d,"A",{class:!0,href:!0});var I=v(V);k=$(I,"Classic"),I.forEach(m),d.forEach(m),u.forEach(m),l.forEach(m),this.h()},h(){r.src!==(l="logo.svg")&&b(r,"src","logo.svg"),b(r,"width","28"),b(r,"alt","Contributor Assistant Logo"),b(n,"class","navbar-item"),b(n,"href","https://github.com/cla-assistant/contributor-assistant"),b(i,"class","navbar-item"),b(N,"class","navbar-item"),b(N,"href","#"),b(V,"class","navbar-item"),b(V,"href","#"),b(e,"class","navbar-brand"),b(t,"class","navbar"),b(t,"role","navigation"),b(t,"aria-label","main navigation"),b(s,"class","container")},m(l,u){E(l,s,u),y(s,t),y(t,e),y(e,n),y(n,r),y(e,o),y(e,i),y(i,c),y(c,f),y(e,D),y(e,N),y(N,A),y(e,O),y(e,V),y(V,k),P||(L=[I(N,"click",a[1]),I(V,"click",a[2])],P=!0)},p:w,i:w,o:w,d(a){a&&m(s),P=!1,S(L)}}}function Y(a,s,t){let{mode:e="lite"}=s;return a.$$set=a=>{"mode"in a&&t(0,e=a.mode)},[e,()=>t(0,e="lite"),()=>t(0,e="classic")]}class F extends i{constructor(a){super(),c(this,a,Y,H,f,{mode:0})}}function K(a){let s,t,e=a[0].name+"";return{c(){s=u("span"),t=h(e),this.h()},l(a){s=p(a,"SPAN",{class:!0});var n=v(s);t=$(n,e),n.forEach(m),this.h()},h(){b(s,"class","file-name")},m(a,e){E(a,s,e),y(s,t)},p(a,s){1&s&&e!==(e=a[0].name+"")&&D(t,e)},d(a){a&&m(s)}}}function Q(a){let s,t,e,n,r,l,o,i,c,f,S,D,A,O=a[0]&&K(a);return{c(){s=u("div"),t=u("label"),e=u("input"),n=d(),r=u("span"),l=u("span"),o=u("i"),i=d(),c=u("span"),f=h("Choose a file…"),S=d(),O&&O.c(),this.h()},l(a){s=p(a,"DIV",{class:!0});var u=v(s);t=p(u,"LABEL",{class:!0});var d=v(t);e=p(d,"INPUT",{class:!0,type:!0,name:!0,id:!0,accept:!0}),n=g(d),r=p(d,"SPAN",{class:!0});var h=v(r);l=p(h,"SPAN",{class:!0});var b=v(l);o=p(b,"I",{class:!0}),v(o).forEach(m),b.forEach(m),i=g(h),c=p(h,"SPAN",{class:!0});var E=v(c);f=$(E,"Choose a file…"),E.forEach(m),h.forEach(m),S=g(d),O&&O.l(d),d.forEach(m),u.forEach(m),this.h()},h(){b(e,"class","file-input"),b(e,"type","file"),b(e,"name","resume"),b(e,"id",a[1]),b(e,"accept",a[2]),b(o,"class","fas fa-upload"),b(l,"class","file-icon"),b(c,"class","file-label"),b(r,"class","file-cta"),b(t,"class","file-label"),b(s,"class","file"),N(s,"has-name",a[0])},m(u,d){E(u,s,d),y(s,t),y(t,e),y(t,n),y(t,r),y(r,l),y(l,o),y(r,i),y(r,c),y(c,f),y(t,S),O&&O.m(t,null),D||(A=I(e,"change",a[4]),D=!0)},p(a,[n]){2&n&&b(e,"id",a[1]),4&n&&b(e,"accept",a[2]),a[0]?O?O.p(a,n):(O=K(a),O.c(),O.m(t,null)):O&&(O.d(1),O=null),1&n&&N(s,"has-name",a[0])},i:w,o:w,d(a){a&&m(s),O&&O.d(),D=!1,A()}}}function W(a,s,t){let e,{file:n}=s,{control:r}=s,{accept:l}=s;return a.$$set=a=>{"file"in a&&t(0,n=a.file),"control"in a&&t(1,r=a.control),"accept"in a&&t(2,l=a.accept)},a.$$.update=()=>{8&a.$$.dirty&&e&&e[0]&&t(0,n=e[0])},[n,r,l,e,function(){e=this.files,t(3,e)}]}class X extends i{constructor(a){super(),c(this,a,W,Q,f,{file:0,control:1,accept:2})}}function Z(a){let s,t;const e=a[5].default,n=A(e,a,a[4],null);return{c(){s=u("a"),n&&n.c(),this.h()},l(a){s=p(a,"A",{download:!0,href:!0});var t=v(s);n&&n.l(t),t.forEach(m),this.h()},h(){b(s,"download",a[0]),b(s,"href",a[1])},m(a,e){E(a,s,e),n&&n.m(s,null),t=!0},p(a,[r]){n&&n.p&&(!t||16&r)&&O(n,e,a,a[4],t?r:-1,null,null),(!t||1&r)&&b(s,"download",a[0]),(!t||2&r)&&b(s,"href",a[1])},i(a){t||(V(n,a),t=!0)},o(a){k(n,a),t=!1},d(a){a&&m(s),n&&n.d(a)}}}function aa(a){return new Promise(((s,t)=>{const e=new FileReader;e.onload=function(){s(e.result)},e.onerror=function(){t()},e.readAsText(a)}))}function sa(a,s,t){let e,{$$slots:n={},$$scope:r}=s,{download:l}=s,{content:o}=s,{type:i="text/plain"}=s;return a.$$set=a=>{"download"in a&&t(0,l=a.download),"content"in a&&t(2,o=a.content),"type"in a&&t(3,i=a.type),"$$scope"in a&&t(4,r=a.$$scope)},a.$$.update=()=>{12&a.$$.dirty&&t(1,e=URL.createObjectURL(new Blob([o],{type:i})))},[l,e,o,i,r,n]}class ta extends i{constructor(a){super(),c(this,a,sa,Z,f,{download:0,content:2,type:3})}}const ea={type:"contributor-assistant/signatures",version:1,data:{current:{formSHA:"",form:{name:"",description:"",body:[]},signatures:[]},previous:[],invalidated:[]}};function na(a){let s,t;return{c(){s=u("p"),t=h("This file does not contain valid JSON"),this.h()},l(a){s=p(a,"P",{class:!0});var e=v(s);t=$(e,"This file does not contain valid JSON"),e.forEach(m),this.h()},h(){b(s,"class","help is-danger")},m(a,e){E(a,s,e),y(s,t)},d(a){a&&m(s)}}}function ra(a){let s,t;return{c(){s=u("p"),t=h("This file does not contain valid YAML"),this.h()},l(a){s=p(a,"P",{class:!0});var e=v(s);t=$(e,"This file does not contain valid YAML"),e.forEach(m),this.h()},h(){b(s,"class","help is-danger")},m(a,e){E(a,s,e),y(s,t)},d(a){a&&m(s)}}}function la(a){let s,t;return s=new ta({props:{download:"signatures.json",content:a[5],$$slots:{default:[oa]},$$scope:{ctx:a}}}),{c(){x(s.$$.fragment)},l(a){T(s.$$.fragment,a)},m(a,e){C(s,a,e),t=!0},p(a,t){const e={};32&t&&(e.content=a[5]),16384&t&&(e.$$scope={dirty:t,ctx:a}),s.$set(e)},i(a){t||(V(s.$$.fragment,a),t=!0)},o(a){k(s.$$.fragment,a),t=!1},d(a){J(s,a)}}}function oa(a){let s,t,e,n,r,l;return{c(){s=u("button"),t=u("span"),e=u("i"),n=d(),r=u("span"),l=h("Save"),this.h()},l(a){s=p(a,"BUTTON",{class:!0});var o=v(s);t=p(o,"SPAN",{class:!0});var i=v(t);e=p(i,"I",{class:!0}),v(e).forEach(m),i.forEach(m),n=g(o),r=p(o,"SPAN",{});var c=v(r);l=$(c,"Save"),c.forEach(m),o.forEach(m),this.h()},h(){b(e,"class","fas fa-download"),b(t,"class","icon"),b(s,"class","button is-success")},m(a,o){E(a,s,o),y(s,t),y(t,e),y(s,n),y(s,r),y(r,l)},d(a){a&&m(s)}}}function ia(a){let s,t,e,n,r,l,o,i,c,f,w,D,A,O,_,q,z,M,R,H,Y,F,K,Q,W,Z,aa,sa,ta,ea,oa,ia,ca,fa,ua,da,ha,pa,va,ma,ga,$a,ba,Ea,ya,Ia,wa,Sa,Da,Na,Aa,Oa,Va,ka,Pa,La,xa,Ta,Ca,Ja,Ba,ja,Ga,Ua,_a,qa,za,Ma,Ra,Ha;function Ya(s){a[10](s)}let Fa={control:"signature-input",accept:"application/json"};void 0!==a[0]&&(Fa.file=a[0]),va=new X({props:Fa}),P.push((()=>L(va,"file",Ya)));let Ka=a[6].signature&&na();function Qa(s){a[11](s)}let Wa={control:"form-input",accept:".yml,.yaml"};void 0!==a[1]&&(Wa.file=a[1]),Va=new X({props:Wa}),P.push((()=>L(Va,"file",Qa)));let Xa=a[6].form&&ra(),Za=a[5]&&la(a);return{c(){s=u("h1"),t=h("CLA Assistant Lite"),e=d(),n=u("h2"),r=h("If you have added "),l=u("a"),o=h("custom fields"),i=h("\n  to your form, it is "),c=u("strong"),f=h("recommended"),w=h(" that you upload it as well to\n  properly format the signatures."),D=d(),A=u("div"),O=u("div"),_=d(),q=u("div"),z=u("div"),M=u("p"),R=u("input"),H=d(),Y=u("span"),F=u("i"),K=d(),Q=u("div"),W=u("p"),Z=u("input"),aa=d(),sa=u("span"),ta=u("i"),ea=d(),oa=u("div"),ia=u("div"),ca=u("label"),fa=h("JSON Signature file"),ua=d(),da=u("div"),ha=u("div"),pa=u("div"),x(va.$$.fragment),ga=d(),Ka&&Ka.c(),$a=d(),ba=u("div"),Ea=u("div"),ya=u("label"),Ia=h("YAML form file "),wa=u("span"),Sa=h("Optional"),Da=d(),Na=u("div"),Aa=u("div"),Oa=u("div"),x(Va.$$.fragment),Pa=d(),Xa&&Xa.c(),La=d(),xa=u("div"),Ta=u("div"),Ca=d(),Ja=u("div"),Ba=u("div"),ja=u("div"),Ga=u("button"),Ua=h("Convert"),qa=d(),za=u("div"),Za&&Za.c(),this.h()},l(a){s=p(a,"H1",{class:!0});var u=v(s);t=$(u,"CLA Assistant Lite"),u.forEach(m),e=g(a),n=p(a,"H2",{class:!0});var d=v(n);r=$(d,"If you have added "),l=p(d,"A",{href:!0});var h=v(l);o=$(h,"custom fields"),h.forEach(m),i=$(d,"\n  to your form, it is "),c=p(d,"STRONG",{});var b=v(c);f=$(b,"recommended"),b.forEach(m),w=$(d," that you upload it as well to\n  properly format the signatures."),d.forEach(m),D=g(a),A=p(a,"DIV",{class:!0});var E=v(A);O=p(E,"DIV",{class:!0}),v(O).forEach(m),_=g(E),q=p(E,"DIV",{class:!0});var y=v(q);z=p(y,"DIV",{class:!0});var I=v(z);M=p(I,"P",{class:!0});var S=v(M);R=p(S,"INPUT",{class:!0,type:!0,placeholder:!0}),H=g(S),Y=p(S,"SPAN",{class:!0});var N=v(Y);F=p(N,"I",{class:!0}),v(F).forEach(m),N.forEach(m),S.forEach(m),I.forEach(m),K=g(y),Q=p(y,"DIV",{class:!0});var V=v(Q);W=p(V,"P",{class:!0});var k=v(W);Z=p(k,"INPUT",{class:!0,type:!0,placeholder:!0}),aa=g(k),sa=p(k,"SPAN",{class:!0});var P=v(sa);ta=p(P,"I",{class:!0}),v(ta).forEach(m),P.forEach(m),k.forEach(m),V.forEach(m),y.forEach(m),E.forEach(m),ea=g(a),oa=p(a,"DIV",{class:!0});var L=v(oa);ia=p(L,"DIV",{class:!0});var x=v(ia);ca=p(x,"LABEL",{class:!0,for:!0});var C=v(ca);fa=$(C,"JSON Signature file"),C.forEach(m),x.forEach(m),ua=g(L),da=p(L,"DIV",{class:!0});var J=v(da);ha=p(J,"DIV",{class:!0});var B=v(ha);pa=p(B,"DIV",{class:!0});var j=v(pa);T(va.$$.fragment,j),j.forEach(m),ga=g(B),Ka&&Ka.l(B),B.forEach(m),J.forEach(m),L.forEach(m),$a=g(a),ba=p(a,"DIV",{class:!0});var G=v(ba);Ea=p(G,"DIV",{class:!0});var U=v(Ea);ya=p(U,"LABEL",{class:!0,for:!0});var X=v(ya);Ia=$(X,"YAML form file "),wa=p(X,"SPAN",{class:!0});var na=v(wa);Sa=$(na,"Optional"),na.forEach(m),X.forEach(m),U.forEach(m),Da=g(G),Na=p(G,"DIV",{class:!0});var ra=v(Na);Aa=p(ra,"DIV",{class:!0});var la=v(Aa);Oa=p(la,"DIV",{class:!0});var ma=v(Oa);T(Va.$$.fragment,ma),ma.forEach(m),Pa=g(la),Xa&&Xa.l(la),la.forEach(m),ra.forEach(m),G.forEach(m),La=g(a),xa=p(a,"DIV",{class:!0});var ka=v(xa);Ta=p(ka,"DIV",{class:!0}),v(Ta).forEach(m),Ca=g(ka),Ja=p(ka,"DIV",{class:!0});var _a=v(Ja);Ba=p(_a,"DIV",{class:!0});var Ma=v(Ba);ja=p(Ma,"DIV",{class:!0});var Ra=v(ja);Ga=p(Ra,"BUTTON",{class:!0});var Ha=v(Ga);Ua=$(Ha,"Convert"),Ha.forEach(m),Ra.forEach(m),qa=g(Ma),za=p(Ma,"DIV",{class:!0});var Ya=v(za);Za&&Za.l(Ya),Ya.forEach(m),Ma.forEach(m),_a.forEach(m),ka.forEach(m),this.h()},h(){b(s,"class","title"),b(l,"href","https://github.com/cla-assistant/contributor-assistant/tree/main/actions/signatures#custom-fields"),b(n,"class","subtitle"),b(O,"class","field-label is-normal"),b(R,"class","input"),b(R,"type","text"),b(R,"placeholder","Owner"),b(F,"class","fas fa-user"),b(Y,"class","icon is-small is-left"),b(M,"class","control has-icons-left"),b(z,"class","field is-narrow"),b(Z,"class","input"),b(Z,"type","text"),b(Z,"placeholder","Repository"),b(ta,"class","fas fa-bookmark"),b(sa,"class","icon is-small is-left"),b(W,"class","control has-icons-left has-icons-right"),b(Q,"class","field is-narrow"),b(q,"class","field-body"),b(A,"class","field is-horizontal"),b(ca,"class","label"),b(ca,"for","signature-input"),b(ia,"class","field-label is-normal"),b(pa,"class","control"),b(ha,"class","field"),b(da,"class","field-body"),b(oa,"class","field is-horizontal"),b(wa,"class","tag is-info is-light"),b(ya,"class","label"),b(ya,"for","form-input"),b(Ea,"class","field-label is-normal"),b(Oa,"class","control"),b(Aa,"class","field"),b(Na,"class","field-body"),b(ba,"class","field is-horizontal"),b(Ta,"class","field-label"),b(Ga,"class","button is-link"),Ga.disabled=_a=!(a[0]&&a[2]&&a[3]),N(Ga,"is-loading",a[4]),b(ja,"class","control"),b(za,"class","control"),b(Ba,"class","field is-grouped"),b(Ja,"class","field-body"),b(xa,"class","field is-horizontal")},m(u,d){E(u,s,d),y(s,t),E(u,e,d),E(u,n,d),y(n,r),y(n,l),y(l,o),y(n,i),y(n,c),y(c,f),y(n,w),E(u,D,d),E(u,A,d),y(A,O),y(A,_),y(A,q),y(q,z),y(z,M),y(M,R),B(R,a[2]),y(M,H),y(M,Y),y(Y,F),y(q,K),y(q,Q),y(Q,W),y(W,Z),B(Z,a[3]),y(W,aa),y(W,sa),y(sa,ta),E(u,ea,d),E(u,oa,d),y(oa,ia),y(ia,ca),y(ca,fa),y(oa,ua),y(oa,da),y(da,ha),y(ha,pa),C(va,pa,null),y(ha,ga),Ka&&Ka.m(ha,null),E(u,$a,d),E(u,ba,d),y(ba,Ea),y(Ea,ya),y(ya,Ia),y(ya,wa),y(wa,Sa),y(ba,Da),y(ba,Na),y(Na,Aa),y(Aa,Oa),C(Va,Oa,null),y(Aa,Pa),Xa&&Xa.m(Aa,null),E(u,La,d),E(u,xa,d),y(xa,Ta),y(xa,Ca),y(xa,Ja),y(Ja,Ba),y(Ba,ja),y(ja,Ga),y(Ga,Ua),y(Ba,qa),y(Ba,za),Za&&Za.m(za,null),Ma=!0,Ra||(Ha=[I(R,"input",a[8]),I(Z,"input",a[9]),I(Ga,"click",a[7])],Ra=!0)},p(a,[s]){4&s&&R.value!==a[2]&&B(R,a[2]),8&s&&Z.value!==a[3]&&B(Z,a[3]);const t={};!ma&&1&s&&(ma=!0,t.file=a[0],j((()=>ma=!1))),va.$set(t),a[6].signature?Ka||(Ka=na(),Ka.c(),Ka.m(ha,null)):Ka&&(Ka.d(1),Ka=null);const e={};!ka&&2&s&&(ka=!0,e.file=a[1],j((()=>ka=!1))),Va.$set(e),a[6].form?Xa||(Xa=ra(),Xa.c(),Xa.m(Aa,null)):Xa&&(Xa.d(1),Xa=null),(!Ma||13&s&&_a!==(_a=!(a[0]&&a[2]&&a[3])))&&(Ga.disabled=_a),16&s&&N(Ga,"is-loading",a[4]),a[5]?Za?(Za.p(a,s),32&s&&V(Za,1)):(Za=la(a),Za.c(),V(Za,1),Za.m(za,null)):Za&&(G(),k(Za,1,1,(()=>{Za=null})),U())},i(a){Ma||(V(va.$$.fragment,a),V(Va.$$.fragment,a),V(Za),Ma=!0)},o(a){k(va.$$.fragment,a),k(Va.$$.fragment,a),k(Za),Ma=!1},d(a){a&&m(s),a&&m(e),a&&m(n),a&&m(D),a&&m(A),a&&m(ea),a&&m(oa),J(va),Ka&&Ka.d(),a&&m($a),a&&m(ba),J(Va),Xa&&Xa.d(),a&&m(La),a&&m(xa),Za&&Za.d(),Ra=!1,S(Ha)}}}function ca(a,e,n){var r=this&&this.__awaiter||function(a,s,t,e){return new(t||(t=Promise))((function(n,r){function l(a){try{i(e.next(a))}catch(s){r(s)}}function o(a){try{i(e.throw(a))}catch(s){r(s)}}function i(a){var s;a.done?n(a.value):(s=a.value,s instanceof t?s:new t((function(a){a(s)}))).then(l,o)}i((e=e.apply(a,s||[])).next())}))};let l,i,c,f,u,d=!1,h={signature:!1,form:!1};return[l,i,c,f,d,u,h,function(){return r(this,void 0,void 0,(function*(){n(4,d=!0),yield function(){return r(this,void 0,void 0,(function*(){n(6,h.signature=!1,h),n(6,h.form=!1,h);const a=yield aa(l);let e,r;try{e=JSON.parse(a)}catch(d){return void n(6,h.signature=!0,h)}if(i){const a=yield aa(i);try{r=_.parse(a)}catch(p){return void n(6,h.form=!0,h)}}n(5,u=JSON.stringify(function(a,e={owner:"",repo:""},n){var r;const l=JSON.parse(JSON.stringify(ea));let i=[[!0]];if(void 0!==n){i=[];for(const a of n.body)"markdown"!==a.type&&i.push("signature"===a.id?[!0]:null)}for(const u of a.signedContributors)l.data.current.signatures.push((c=o({user:{databaseId:u.id,login:u.name}},e),f={issue:0,date:null!=(r=u.created_at)?r:(new Date).toJSON(),fields:i},s(c,t(f))));var c,f;return l}(e,{owner:c,repo:f},r)))}))}(),n(4,d=!1)}))},function(){c=this.value,n(2,c)},function(){f=this.value,n(3,f)},function(a){l=a,n(0,l)},function(a){i=a,n(1,i)}]}class fa extends i{constructor(a){super(),c(this,a,ca,ia,f,{})}}function ua(a,s,t){const e=a.slice();return e[15]=s[t].username,e[16]=s[t].reason,e}function da(a){let s,t;return{c(){s=u("p"),t=h("This file does not contain valid JSON"),this.h()},l(a){s=p(a,"P",{class:!0});var e=v(s);t=$(e,"This file does not contain valid JSON"),e.forEach(m),this.h()},h(){b(s,"class","help is-danger")},m(a,e){E(a,s,e),y(s,t)},d(a){a&&m(s)}}}function ha(a){let s,t;return{c(){s=u("p"),t=h("This file does not contain valid JSON"),this.h()},l(a){s=p(a,"P",{class:!0});var e=v(s);t=$(e,"This file does not contain valid JSON"),e.forEach(m),this.h()},h(){b(s,"class","help is-danger")},m(a,e){E(a,s,e),y(s,t)},d(a){a&&m(s)}}}function pa(a){let s,t;return s=new ta({props:{download:"signatures.json",content:a[4],type:"application/json",$$slots:{default:[va]},$$scope:{ctx:a}}}),{c(){x(s.$$.fragment)},l(a){T(s.$$.fragment,a)},m(a,e){C(s,a,e),t=!0},p(a,t){const e={};16&t&&(e.content=a[4]),524288&t&&(e.$$scope={dirty:t,ctx:a}),s.$set(e)},i(a){t||(V(s.$$.fragment,a),t=!0)},o(a){k(s.$$.fragment,a),t=!1},d(a){J(s,a)}}}function va(a){let s,t,e,n,r,l;return{c(){s=u("button"),t=u("span"),e=u("i"),n=d(),r=u("span"),l=h("Save Signatures"),this.h()},l(a){s=p(a,"BUTTON",{class:!0});var o=v(s);t=p(o,"SPAN",{class:!0});var i=v(t);e=p(i,"I",{class:!0}),v(e).forEach(m),i.forEach(m),n=g(o),r=p(o,"SPAN",{});var c=v(r);l=$(c,"Save Signatures"),c.forEach(m),o.forEach(m),this.h()},h(){b(e,"class","fas fa-download"),b(t,"class","icon"),b(s,"class","button is-success")},m(a,o){E(a,s,o),y(s,t),y(t,e),y(s,n),y(s,r),y(r,l)},d(a){a&&m(s)}}}function ma(a){let s,t;return s=new ta({props:{download:"form.yml",content:a[5],type:"text/vnd.yaml",$$slots:{default:[ga]},$$scope:{ctx:a}}}),{c(){x(s.$$.fragment)},l(a){T(s.$$.fragment,a)},m(a,e){C(s,a,e),t=!0},p(a,t){const e={};32&t&&(e.content=a[5]),524288&t&&(e.$$scope={dirty:t,ctx:a}),s.$set(e)},i(a){t||(V(s.$$.fragment,a),t=!0)},o(a){k(s.$$.fragment,a),t=!1},d(a){J(s,a)}}}function ga(a){let s,t,e,n,r,l;return{c(){s=u("button"),t=u("span"),e=u("i"),n=d(),r=u("span"),l=h("Save Form"),this.h()},l(a){s=p(a,"BUTTON",{class:!0});var o=v(s);t=p(o,"SPAN",{class:!0});var i=v(t);e=p(i,"I",{class:!0}),v(e).forEach(m),i.forEach(m),n=g(o),r=p(o,"SPAN",{});var c=v(r);l=$(c,"Save Form"),c.forEach(m),o.forEach(m),this.h()},h(){b(e,"class","fas fa-download"),b(t,"class","icon"),b(s,"class","button is-success")},m(a,o){E(a,s,o),y(s,t),y(t,e),y(s,n),y(s,r),y(r,l)},d(a){a&&m(s)}}}function $a(a){let s,t,e,n,r,l,o,i,c,f,I=a[15]+"",w=a[16]+"";return{c(){s=u("div"),t=u("strong"),e=h("Error"),n=h(" with user "),r=u("strong"),l=h(I),o=u("br"),i=d(),c=h(w),f=d(),this.h()},l(a){s=p(a,"DIV",{class:!0});var u=v(s);t=p(u,"STRONG",{});var d=v(t);e=$(d,"Error"),d.forEach(m),n=$(u," with user "),r=p(u,"STRONG",{});var h=v(r);l=$(h,I),h.forEach(m),o=p(u,"BR",{}),i=g(u),c=$(u,w),f=g(u),u.forEach(m),this.h()},h(){b(s,"class","notification is-danger is-light")},m(a,u){E(a,s,u),y(s,t),y(t,e),y(s,n),y(s,r),y(r,l),y(s,o),y(s,i),y(s,c),y(s,f)},p(a,s){64&s&&I!==(I=a[15]+"")&&D(l,I),64&s&&w!==(w=a[16]+"")&&D(c,w)},d(a){a&&m(s)}}}function ba(a){let s,t,e,n,r,l,o,i,c,f,w,S,D,A,O,B,_,z,M,R,H,Y,F,K,Q,W,Z,aa,sa,ta,ea,na,ra,la,oa,ia,ca,fa,va,ga,ba,Ea,ya,Ia,wa,Sa,Da,Na,Aa,Oa,Va,ka,Pa,La,xa,Ta,Ca,Ja,Ba,ja,Ga,Ua,_a,qa,za,Ma,Ra,Ha,Ya,Fa,Ka;function Qa(s){a[8](s)}let Wa={control:"signature-input",accept:"application/json"};void 0!==a[0]&&(Wa.file=a[0]),H=new X({props:Wa}),P.push((()=>L(H,"file",Qa)));let Xa=a[6].signature&&da();function Za(s){a[9](s)}let as={control:"document-input",accept:".yml,.yaml"};function ss(s){a[10](s)}void 0!==a[1]&&(as.file=a[1]),oa=new X({props:as}),P.push((()=>L(oa,"file",Za)));let ts={control:"metadata-input",accept:".yml,.yaml"};void 0!==a[2]&&(ts.file=a[2]),Na=new X({props:ts}),P.push((()=>L(Na,"file",ss)));let es=a[6].metadata&&ha(),ns=a[4]&&pa(a),rs=a[5]&&ma(a),ls=a[6].output,os=[];for(let u=0;u<ls.length;u+=1)os[u]=$a(ua(a,ls,u));return{c(){s=u("h1"),t=h("CLA Assistant Classic"),e=d(),n=u("h2"),r=h("You can download your signatures on\n  "),l=u("a"),o=h("cla-assistant.io"),i=h("\n  by clicking on the number of contributors, then select\n  "),c=u("strong"),f=h("Export as JSON"),w=h("."),S=d(),D=u("div"),A=u("div"),O=u("label"),B=h("JSON Signature file"),_=d(),z=u("div"),M=u("div"),R=u("div"),x(H.$$.fragment),F=d(),Xa&&Xa.c(),K=d(),Q=u("div"),W=u("div"),Z=u("label"),aa=h("Gist CLA "),sa=u("span"),ta=h("Optional"),ea=d(),na=u("div"),ra=u("div"),la=u("div"),x(oa.$$.fragment),ca=d(),fa=u("div"),va=u("div"),ga=u("label"),ba=h("Gist Metadata "),Ea=u("span"),ya=h("Optional"),Ia=d(),wa=u("div"),Sa=u("div"),Da=u("div"),x(Na.$$.fragment),Oa=d(),es&&es.c(),Va=d(),ka=u("div"),Pa=u("div"),La=d(),xa=u("div"),Ta=u("div"),Ca=u("div"),Ja=u("button"),Ba=h("Convert"),Ga=d(),Ua=u("div"),ns&&ns.c(),_a=d(),rs&&rs.c(),qa=d(),za=u("div"),Ma=u("div"),Ra=d(),Ha=u("div");for(let a=0;a<os.length;a+=1)os[a].c();this.h()},l(a){s=p(a,"H1",{class:!0});var u=v(s);t=$(u,"CLA Assistant Classic"),u.forEach(m),e=g(a),n=p(a,"H2",{class:!0});var d=v(n);r=$(d,"You can download your signatures on\n  "),l=p(d,"A",{href:!0});var h=v(l);o=$(h,"cla-assistant.io"),h.forEach(m),i=$(d,"\n  by clicking on the number of contributors, then select\n  "),c=p(d,"STRONG",{});var b=v(c);f=$(b,"Export as JSON"),b.forEach(m),w=$(d,"."),d.forEach(m),S=g(a),D=p(a,"DIV",{class:!0});var E=v(D);A=p(E,"DIV",{class:!0});var y=v(A);O=p(y,"LABEL",{class:!0,for:!0});var I=v(O);B=$(I,"JSON Signature file"),I.forEach(m),y.forEach(m),_=g(E),z=p(E,"DIV",{class:!0});var N=v(z);M=p(N,"DIV",{class:!0});var V=v(M);R=p(V,"DIV",{class:!0});var k=v(R);T(H.$$.fragment,k),k.forEach(m),F=g(V),Xa&&Xa.l(V),V.forEach(m),N.forEach(m),E.forEach(m),K=g(a),Q=p(a,"DIV",{class:!0});var P=v(Q);W=p(P,"DIV",{class:!0});var L=v(W);Z=p(L,"LABEL",{class:!0,for:!0});var x=v(Z);aa=$(x,"Gist CLA "),sa=p(x,"SPAN",{class:!0});var C=v(sa);ta=$(C,"Optional"),C.forEach(m),x.forEach(m),L.forEach(m),ea=g(P),na=p(P,"DIV",{class:!0});var J=v(na);ra=p(J,"DIV",{class:!0});var j=v(ra);la=p(j,"DIV",{class:!0});var G=v(la);T(oa.$$.fragment,G),G.forEach(m),j.forEach(m),J.forEach(m),P.forEach(m),ca=g(a),fa=p(a,"DIV",{class:!0});var U=v(fa);va=p(U,"DIV",{class:!0});var q=v(va);ga=p(q,"LABEL",{class:!0,for:!0});var Y=v(ga);ba=$(Y,"Gist Metadata "),Ea=p(Y,"SPAN",{class:!0});var X=v(Ea);ya=$(X,"Optional"),X.forEach(m),Y.forEach(m),q.forEach(m),Ia=g(U),wa=p(U,"DIV",{class:!0});var ia=v(wa);Sa=p(ia,"DIV",{class:!0});var ua=v(Sa);Da=p(ua,"DIV",{class:!0});var da=v(Da);T(Na.$$.fragment,da),da.forEach(m),Oa=g(ua),es&&es.l(ua),ua.forEach(m),ia.forEach(m),U.forEach(m),Va=g(a),ka=p(a,"DIV",{class:!0});var ha=v(ka);Pa=p(ha,"DIV",{class:!0}),v(Pa).forEach(m),La=g(ha),xa=p(ha,"DIV",{class:!0});var pa=v(xa);Ta=p(pa,"DIV",{class:!0});var ma=v(Ta);Ca=p(ma,"DIV",{class:!0});var $a=v(Ca);Ja=p($a,"BUTTON",{class:!0});var Aa=v(Ja);Ba=$(Aa,"Convert"),Aa.forEach(m),$a.forEach(m),Ga=g(ma),Ua=p(ma,"DIV",{class:!0});var ja=v(Ua);ns&&ns.l(ja),_a=g(ja),rs&&rs.l(ja),ja.forEach(m),ma.forEach(m),pa.forEach(m),ha.forEach(m),qa=g(a),za=p(a,"DIV",{class:!0});var Ya=v(za);Ma=p(Ya,"DIV",{class:!0}),v(Ma).forEach(m),Ra=g(Ya),Ha=p(Ya,"DIV",{class:!0});var Fa=v(Ha);for(let s=0;s<os.length;s+=1)os[s].l(Fa);Fa.forEach(m),Ya.forEach(m),this.h()},h(){b(s,"class","title"),b(l,"href","https://cla-assistant.io/"),b(n,"class","subtitle"),b(O,"class","label"),b(O,"for","signature-input"),b(A,"class","field-label is-normal"),b(R,"class","control"),b(M,"class","field"),b(z,"class","field-body"),b(D,"class","field is-horizontal"),b(sa,"class","tag is-info is-light"),b(Z,"class","label"),b(Z,"for","document-input"),b(W,"class","field-label is-normal"),b(la,"class","control"),b(ra,"class","field"),b(na,"class","field-body"),b(Q,"class","field is-horizontal"),b(Ea,"class","tag is-info is-light"),b(ga,"class","label"),b(ga,"for","metadata-input"),b(va,"class","field-label is-normal"),b(Da,"class","control"),b(Sa,"class","field"),b(wa,"class","field-body"),b(fa,"class","field is-horizontal"),b(Pa,"class","field-label"),b(Ja,"class","button is-link"),Ja.disabled=ja=!a[0],N(Ja,"is-loading",a[3]),b(Ca,"class","control"),b(Ua,"class","control"),b(Ta,"class","field is-grouped"),b(xa,"class","field-body"),b(ka,"class","field is-horizontal"),b(Ma,"class","field-label"),b(Ha,"class","field-body"),b(za,"class","field is-horizontal")},m(u,d){E(u,s,d),y(s,t),E(u,e,d),E(u,n,d),y(n,r),y(n,l),y(l,o),y(n,i),y(n,c),y(c,f),y(n,w),E(u,S,d),E(u,D,d),y(D,A),y(A,O),y(O,B),y(D,_),y(D,z),y(z,M),y(M,R),C(H,R,null),y(M,F),Xa&&Xa.m(M,null),E(u,K,d),E(u,Q,d),y(Q,W),y(W,Z),y(Z,aa),y(Z,sa),y(sa,ta),y(Q,ea),y(Q,na),y(na,ra),y(ra,la),C(oa,la,null),E(u,ca,d),E(u,fa,d),y(fa,va),y(va,ga),y(ga,ba),y(ga,Ea),y(Ea,ya),y(fa,Ia),y(fa,wa),y(wa,Sa),y(Sa,Da),C(Na,Da,null),y(Sa,Oa),es&&es.m(Sa,null),E(u,Va,d),E(u,ka,d),y(ka,Pa),y(ka,La),y(ka,xa),y(xa,Ta),y(Ta,Ca),y(Ca,Ja),y(Ja,Ba),y(Ta,Ga),y(Ta,Ua),ns&&ns.m(Ua,null),y(Ua,_a),rs&&rs.m(Ua,null),E(u,qa,d),E(u,za,d),y(za,Ma),y(za,Ra),y(za,Ha);for(let a=0;a<os.length;a+=1)os[a].m(Ha,null);Ya=!0,Fa||(Ka=I(Ja,"click",a[7]),Fa=!0)},p(a,[s]){const t={};!Y&&1&s&&(Y=!0,t.file=a[0],j((()=>Y=!1))),H.$set(t),a[6].signature?Xa||(Xa=da(),Xa.c(),Xa.m(M,null)):Xa&&(Xa.d(1),Xa=null);const e={};!ia&&2&s&&(ia=!0,e.file=a[1],j((()=>ia=!1))),oa.$set(e);const n={};if(!Aa&&4&s&&(Aa=!0,n.file=a[2],j((()=>Aa=!1))),Na.$set(n),a[6].metadata?es||(es=ha(),es.c(),es.m(Sa,null)):es&&(es.d(1),es=null),(!Ya||1&s&&ja!==(ja=!a[0]))&&(Ja.disabled=ja),8&s&&N(Ja,"is-loading",a[3]),a[4]?ns?(ns.p(a,s),16&s&&V(ns,1)):(ns=pa(a),ns.c(),V(ns,1),ns.m(Ua,_a)):ns&&(G(),k(ns,1,1,(()=>{ns=null})),U()),a[5]?rs?(rs.p(a,s),32&s&&V(rs,1)):(rs=ma(a),rs.c(),V(rs,1),rs.m(Ua,null)):rs&&(G(),k(rs,1,1,(()=>{rs=null})),U()),64&s){let t;for(ls=a[6].output,t=0;t<ls.length;t+=1){const e=ua(a,ls,t);os[t]?os[t].p(e,s):(os[t]=$a(e),os[t].c(),os[t].m(Ha,null))}for(;t<os.length;t+=1)os[t].d(1);os.length=ls.length}},i(a){Ya||(V(H.$$.fragment,a),V(oa.$$.fragment,a),V(Na.$$.fragment,a),V(ns),V(rs),Ya=!0)},o(a){k(H.$$.fragment,a),k(oa.$$.fragment,a),k(Na.$$.fragment,a),k(ns),k(rs),Ya=!1},d(a){a&&m(s),a&&m(e),a&&m(n),a&&m(S),a&&m(D),J(H),Xa&&Xa.d(),a&&m(K),a&&m(Q),J(oa),a&&m(ca),a&&m(fa),J(Na),es&&es.d(),a&&m(Va),a&&m(ka),ns&&ns.d(),rs&&rs.d(),a&&m(qa),a&&m(za),q(os,a),Fa=!1,Ka()}}}function Ea(a,s,t){var e=this&&this.__awaiter||function(a,s,t,e){return new(t||(t=Promise))((function(n,r){function l(a){try{i(e.next(a))}catch(s){r(s)}}function o(a){try{i(e.throw(a))}catch(s){r(s)}}function i(a){var s;a.done?n(a.value):(s=a.value,s instanceof t?s:new t((function(a){a(s)}))).then(l,o)}i((e=e.apply(a,s||[])).next())}))};const n=new(z.plugin(M,R));let r,l,o,i,c,f=!1,u={signature:!1,metadata:!1,output:[]};return[r,l,o,f,i,c,u,function(){return e(this,void 0,void 0,(function*(){t(3,f=!0),yield function(){return e(this,void 0,void 0,(function*(){t(6,u.signature=!1,u),t(6,u.metadata=!1,u);const a=yield aa(r);let s,e,f;try{s=JSON.parse(a)}catch(h){return void t(6,u.signature=!0,u)}if(l&&(e=yield aa(l)),o){const a=yield aa(o);try{f=JSON.parse(a)}catch(p){return void t(6,u.metadata=!0,u)}}const d=yield async function(a,s,t,e){var n,r,l,o;const i=JSON.parse(JSON.stringify(ea)),c={name:"Contributor License Agreement",description:"Sign the Contributor License Agreement",title:"CLA Signature",labels:["signature form"],body:[]};c.body.push({type:"markdown",attributes:{value:null!=t?t:"Thank you for your submission, we appreciate it.\nPlease read our Contributor License Agreement."}});const f=[];for(const h in e){const a=e[h];switch(a.type){case"boolean":c.body.push({type:"checkboxes",id:a.githubKey,attributes:{description:a.description,options:[{label:null!=(n=a.title)?n:"I agree",required:a.required}]}});break;case"number":case"string":c.body.push({type:"input",id:a.githubKey,attributes:{label:null!=(r=a.title)?r:"Input:",description:a.description,required:a.required}});break;case"textarea":c.body.push({type:"textarea",id:a.githubKey,attributes:{label:null!=(l=a.title)?l:"Input:",description:a.description,required:a.required}});break;case"hidden":default:if("object"==typeof a.type){c.body.push({type:"dropdown",id:a.githubKey,attributes:{label:null!=(o=a.title)?o:"Input:",description:a.description,required:a.required,options:a.type.enum}});break}throw new Error(`unknown input type: ${a.type}`)}f.push(h)}c.body.push({type:"checkboxes",id:"signature",attributes:{label:"Signature",options:[{label:"I have read the Contributor Document and I hereby sign this document.",required:!0}]}});const u=await Promise.allSettled(s.map((s=>a.rest.users.getByUsername({username:s.user_name})))),d=[];for(let h=0;h<s.length;h++){const a=s[h],t=u[h];if("fulfilled"===t.status){const s=[];let e=0;for(const t of c.body)if("markdown"!==t.type){if("signature"===t.id)s.push([!0]);else switch(t.type){case"input":case"textarea":s.push(`${a[f[e]]}`);break;case"dropdown":s.push(t.attributes.options.indexOf(`${a[f[e]]}`));break;case"checkboxes":s.push([!!a[f[e]]])}e++}i.data.current.signatures.push({user:{databaseId:t.value.data.id,login:a.user_name},owner:a.repo_owner,repo:a.repo_name,issue:0,date:a.signed_at,fields:s})}else d.push({username:s[h].user_name,reason:t.reason})}return{signatures:i,form:c,errors:d}}(n,s,e,f);t(4,i=JSON.stringify(d.signatures)),t(5,c=_.stringify(d.form)),t(6,u.output=d.errors,u)}))}(),t(3,f=!1)}))},function(a){r=a,t(0,r)},function(a){l=a,t(1,l)},function(a){o=a,t(2,o)}]}class ya extends i{constructor(a){super(),c(this,a,Ea,ba,f,{})}}function Ia(a){let s,t;return s=new ya({}),{c(){x(s.$$.fragment)},l(a){T(s.$$.fragment,a)},m(a,e){C(s,a,e),t=!0},i(a){t||(V(s.$$.fragment,a),t=!0)},o(a){k(s.$$.fragment,a),t=!1},d(a){J(s,a)}}}function wa(a){let s,t;return s=new fa({}),{c(){x(s.$$.fragment)},l(a){T(s.$$.fragment,a)},m(a,e){C(s,a,e),t=!0},i(a){t||(V(s.$$.fragment,a),t=!0)},o(a){k(s.$$.fragment,a),t=!1},d(a){J(s,a)}}}function Sa(a){let s,t,e,n,r,l,o,i,c;function f(s){a[1](s)}let h={};void 0!==a[0]&&(h.mode=a[0]),t=new F({props:h}),P.push((()=>L(t,"mode",f)));const $=[wa,Ia],I=[];function w(a,s){return"lite"===a[0]?0:1}return o=w(a),i=I[o]=$[o](a),{c(){s=u("main"),x(t.$$.fragment),n=d(),r=u("div"),l=u("section"),i.c(),this.h()},l(a){s=p(a,"MAIN",{});var e=v(s);T(t.$$.fragment,e),n=g(e),r=p(e,"DIV",{class:!0});var o=v(r);l=p(o,"SECTION",{class:!0});var c=v(l);i.l(c),c.forEach(m),o.forEach(m),e.forEach(m),this.h()},h(){b(l,"class","section"),b(r,"class","container")},m(a,e){E(a,s,e),C(t,s,null),y(s,n),y(s,r),y(r,l),I[o].m(l,null),c=!0},p(a,[s]){const n={};!e&&1&s&&(e=!0,n.mode=a[0],j((()=>e=!1))),t.$set(n);let r=o;o=w(a),o!==r&&(G(),k(I[r],1,1,(()=>{I[r]=null})),U(),i=I[o],i||(i=I[o]=$[o](a),i.c()),V(i,1),i.m(l,null))},i(a){c||(V(t.$$.fragment,a),V(i),c=!0)},o(a){k(t.$$.fragment,a),k(i),c=!1},d(a){a&&m(s),J(t),I[o].d()}}}function Da(a,s,t){let e;return[e,function(a){e=a,t(0,e)}]}new class extends i{constructor(a){super(),c(this,a,Da,Sa,f,{})}}({target:document.getElementById("app")});
